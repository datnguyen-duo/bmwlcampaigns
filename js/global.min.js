var locoScroll;(function(e){function t(){var t=gsap.timeline({paused:!0,reversed:!0,onComplete:function(){console.log("complete")}});if(window.screen.width>1024)var r="50%";else if(window.screen.width>768)r="70%";else r="100%";let o=e(".contact_popup_holder"),i=e(".contact_popup"),n=e(".contact_popup .content, .close_contact_popup");t.to(o,{visibility:"visible",opacity:1,duration:.7,ease:"power2.inOut"}),t.to(i,{width:r}),t.to(n,{opacity:1}),e("#work").on("wpcf7mailsent.#work",function(t){e(".success_message_wrap").fadeIn(),e(".contact_popup_holder").addClass("green");var r=e(this).find(".first_name input").val();e(".success_message_wrap .success_message h2 span").text(r)}),e("#meeting").on("wpcf7mailsent.#work",function(t){e(".success_message_wrap").fadeIn(),e(".contact_popup_holder").addClass("green");var r=e(this).find(".first_name input").val();e(".success_message_wrap .success_message h2 span").text(r)}),e(".single_form").on("click",function(){e(".single_form").removeClass("active"),e(this).addClass("active");var t=e(this).data("formid");e(".form_holder form").removeClass("active"),e("form").each(function(){e(this).attr("id")==t&&e(this).addClass("active")})}),e(".contact_popup_opener").on("click",function(){t.play()}),e(".close_contact_popup, .close_contact_popup_btn").on("click",function(){e(".success_message_wrap").fadeOut("fast"),t.reverse(),e(".contact_popup_holder").removeClass("green")});var s=gsap.timeline({paused:!0,reversed:!0,onComplete:function(){}});let a=e(".mobile_nav"),l=e(".mobile_nav .nav_content ul li"),c=e(".mobile_nav .form_holder");s.to(a,{visibility:"visible",height:"100vh",duration:.7,ease:"power2.inOut"}),s.to(l,{top:0,opacity:1,stagger:.1}),s.to(c,{opacity:1}),e(".nav_opener").on("click",function(){e(this).fadeOut(),s.play(),e(".close_nav").fadeIn().css("display","flex"),e("header").css("position","fixed")}),e(".close_nav").on("click",function(){e(this).fadeOut(),s.reverse(),e("header").css("position","absolute"),e(".nav_opener").fadeIn()}),e(".mobile_nav .nav_content ul li, .logo_holder").on("click",function(){s.reverse(),e(".close_nav").fadeOut(),e("header").css("position","absolute"),e(window).width()<650&&e(".nav_opener").fadeIn()}),setTimeout(()=>{ScrollTrigger.refresh()},500)}function r(){new SplitText(e(".letter_wrap, .letter_wrap_scroll"),{type:"lines, words, chars",wordsClass:"word word++",linesClass:"line line++",charsClass:"char char++"});var t=.01*window.innerHeight;if(document.documentElement.style.setProperty("--vh","".concat(t,"px")),window.addEventListener("resize",function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}),window.screen.width>1024)var r="#viewport";else r="body";var o=document.querySelectorAll(".fourth_section .single_item");o.forEach(e=>{e.addEventListener("mouseenter",function(){this.classList.contains("animate")&&!this.classList.contains("init")&&(this.querySelector("video").play().bind("ended",function(){this.currentTime=0}),this.classList.add("init"))})}),gsap.to(".vscroll",{yPercent:-50,ease:"none",scrollTrigger:{trigger:".third_section",scrub:!0,scroller:r}}),gsap.to(".vscroll__up",{yPercent:-40,ease:"none",scrollTrigger:{trigger:".first_section",start:"top bottom",scrub:!0,scroller:r}});let i=e(".fadein_wrap");i.each(function(){let t=e(this);gsap.to(i,{scrollTrigger:{trigger:t,start:"top 60%",scroller:r,onEnter:function(){e(t).addClass("in_view")}}})}),e(window).width(),gsap.utils.toArray(".letter_wrap").forEach(t=>{"seventh_section_content"==t.parentElement.className&&(e(window).width()>765?-30:0),gsap.from(t.querySelectorAll("div.char"),{scrollTrigger:{trigger:t,scroller:r},y:500,opacity:0,duration:.5,stagger:.007,ease:"Power1.easeOut"})});var n=gsap.timeline({onComplete:function(){}});let s=e(".home_hero h1 .char"),a=e(".home_hero img"),l=e(".home_hero .cta_button");n.to(a,{opacity:1,duration:.5}),n.from(s,{y:500,duration:.5,stagger:.01,ease:Power1.easeOuteaseOut}),n.to(s,{opacity:1}),n.to(l,{opacity:1,duration:.5}),gsap.timeline({scrollTrigger:{trigger:e(".home_hero"),start:"top top",scrub:!0,scroller:r}}).to(e(".home_hero .cta_button, .home_hero h1"),{yPercent:-20,ease:"none"}),gsap.from(".footer_content",{opacity:0,top:"200px",scrollTrigger:{trigger:"footer",start:"top 50%",scroller:r}}),e(".single_accordion").on("click",function(){e(".single_accordion").removeClass("active"),e(this).addClass("active")}),e(".next_acordion").on("click",function(t){e(this).parent().parent().parent().removeClass("active"),e(this).parent().parent().parent().next().addClass("active"),t.stopImmediatePropagation()}),e(".prev_acordion").on("click",function(t){e(this).parent().parent().parent().removeClass("active"),e(this).parent().parent().parent().prev().addClass("active"),t.stopImmediatePropagation()});let c=e(".fourth_section_content"),p=e(".single_item");p.each(function(){gsap.timeline({scrollTrigger:{trigger:c,start:"top bottom",scroller:r}}).set(p,{className:"single_item animate",stagger:.2,ease:"power2.inOut"},"+=1")});let d=e(".accordions");gsap.timeline({scrollTrigger:{trigger:d,start:"top 70%",scroller:r}}).set(d,{className:"accordions animate",ease:"power2.inOut"},"+=1");let g=e(".home_wrap .third_section");gsap.timeline({scrollTrigger:{trigger:g,start:"top 70%",scroller:r}}).to(g,{backgroundColor:"#1C2021"});let h=e(".home_wrap .fifth_section_content .image_holder, .home_wrap .fifth_section_content .image_holder img"),f=e(".fifth_section_content p, .fifth_section_content a"),_=e(".home_wrap .fifth_section_content .content .btn, .home_wrap .fifth_section_content p, .home_wrap .fifth_section_content a");gsap.timeline({scrollTrigger:{trigger:".home_wrap .fifth_section",scrub:!0,pin:!0,pinSpacing:!0,end:"+=100%",scroller:r}}).to(h,{width:"100vw",height:"100vh",skewX:"0deg",ease:"none"}).to(f,{color:"#EDEDED"}).from(e(".fifth_section_content .content h2 .char"),{y:500,duration:1,stagger:.08,ease:Power1.easeOuteaseOut},"<").to(_,{opacity:1},"<");var u=e(".home_first_banner .banner_section");gsap.to(u,{opacity:1}),u.each(function(){let t=e(this);for(var o=t.parent(),i=document.documentElement.clientWidth,n=Math.round(o.width()/i)+5,s=3*document.documentElement.clientHeight,a=0;a<n;a++)t.find("> *:first-of-type").clone().appendTo(t);gsap.to(t,{x:-i,ease:"none",scrollTrigger:{trigger:t,invalidateOnRefresh:!0,scrub:!0,end:()=>"+="+s,scroller:r}})});var w=e(".home_second_banner .banner_section");gsap.to(w,{opacity:1}),w.each(function(){let t=e(this);for(var r=t.parent(),o=t.width(),i=Math.round(r.width()/o)+5,n=0;n<i;n++)t.find("> *:first-of-type").clone().appendTo(t)}),setTimeout(()=>{ScrollTrigger.refresh()},500)}function o(){new SplitText(e(".letter_wrap, .letter_wrap_scroll"),{type:"lines, words, chars",wordsClass:"word word++",linesClass:"line line++",charsClass:"char char++"});if(window.screen.width>1024)var t="#viewport";else t="body";var r=gsap.timeline({paused:!0,reversed:!0,onComplete:function(){console.log("complete")}});if(window.screen.width>750)var o="80%";else o="100%";let i=e(".single_team_popup"),n=e(".single_team_popup_content"),s=e(".single_team_popup_content .content, .close_team_popup");r.to(i,{visibility:"visible",opacity:1,duration:.7,ease:"power2.inOut"}),r.to(n,{width:o}),r.to(s,{opacity:1}),r.from(e(".team_header h2 .char"),{y:500,duration:.3,stagger:.01,ease:Power1.easeOuteaseOut},"<"),e(".single_team").not(".join_us_holder").on("click",function(){var t=e(this).data("description"),o=e(this).data("name"),i=e(this).data("position"),n=e(this).data("image"),s=e(this).data("contact");e(".single_team_popup .team_description .team_info .single_info.social").remove(),e(this).find(".single_info.social").clone().insertAfter(".single_team_popup .team_description .team_info .single_info.contact"),e(".single_team_popup h2").text(o),e(".single_team_popup h3").text(i),e(".single_team_popup .team_description .left img").attr("src",n),e(".single_team_popup .team_description .left .team_info .contact a").text(s),e(".single_team_popup .team_description .left .team_info .contact a").attr("href","mailto:"+s),e(".single_team_popup .team_description .right p").html(t),r.play()}),e(".close_team_popup").on("click",function(){r.reverse()});var a=e(".about_first_banner .banner_section");gsap.to(a,{opacity:1}),a.each(function(){let t=e(this);for(var r=t.parent(),o=t.width(),i=Math.round(r.width()/o)+5,n=0;n<i;n++)t.find("> *:first-of-type").clone().appendTo(t)});let l=e(".about_wrap .image_slider");gsap.to(l,{xPercent:-75,x:()=>innerWidth,ease:"none",scrollTrigger:{scroller:t,trigger:".massiveImage",start:"top top",end:()=>3*innerWidth,scrub:!0,pin:!0,invalidateOnRefresh:!0,anticipatePin:1}}),e(".single_accordion").on("click",function(){e(".single_accordion").removeClass("active"),e(this).addClass("active")}),e(".next_acordion").on("click",function(t){e(this).parent().parent().parent().removeClass("active"),e(this).parent().parent().parent().next().addClass("active"),t.stopImmediatePropagation()}),e(".prev_acordion").on("click",function(t){e(this).parent().parent().parent().removeClass("active"),e(this).parent().parent().parent().prev().addClass("active"),t.stopImmediatePropagation()});let c=e(".fadein_wrap");c.each(function(){let r=e(this);gsap.to(c,{scrollTrigger:{trigger:r,start:"top 60%",scroller:t,onEnter:function(){e(r).addClass("in_view")}}})}),e(window).width(),gsap.utils.toArray(".letter_wrap").forEach(r=>{"seventh_section_content"==r.parentElement.className&&(e(window).width()>765?-30:0),gsap.from(r.querySelectorAll("div.char"),{scrollTrigger:{trigger:r,scroller:t},y:500,opacity:0,duration:.5,stagger:.007,ease:"Power1.easeOut"})}),gsap.from(".footer_content",{opacity:0,top:"200px",scrollTrigger:{trigger:"footer",start:"top 50%",scroller:t}}),setTimeout(()=>{ScrollTrigger.refresh()},500)}function i(){new SplitText(e(".letter_wrap, .letter_wrap_scroll"),{type:"lines, words, chars",wordsClass:"word word++",linesClass:"line line++",charsClass:"char char++"});let t=e(".fadein_wrap");if(t.each(function(){let o=e(this);gsap.to(t,{scrollTrigger:{trigger:o,start:"top 60%",scroller:r,onEnter:function(){e(o).addClass("in_view")}}})}),e(window).width()>765?-10:0,gsap.utils.toArray(".letter_wrap").forEach(t=>{"seventh_section_content"==t.parentElement.className&&(e(window).width()>765?-30:0),gsap.from(t.querySelectorAll("div.char"),{scrollTrigger:{trigger:t,scroller:r},y:500,opacity:0,duration:.5,stagger:.007,ease:"Power1.easeOut"})}),window.screen.width>1024)var r="#viewport";else r="body";var o=50;e(".section_parallax .project_info").each(function(t){console.log(t),e(this).css({top:o+"%"}),o-=100}),gsap.utils.toArray(".section_parallax .project_info").forEach((e,t)=>{const o=e.parentElement.parentElement.clientHeight;gsap.to(e,{scrollTrigger:{trigger:".portfolio_paralax_holder",start:"top top",scrub:!0,scroller:r},y:()=>o,ease:"none"})});var i=e(".portfolio_first_banner .banner_section");gsap.to(i,{opacity:1}),i.each(function(){let t=e(this);for(var r=t.parent(),o=t.width(),i=Math.round(r.width()/o)+5,n=0;n<i;n++)t.find("> *:first-of-type").clone().appendTo(t)}),gsap.utils.toArray(".section_parallax .image_holder").forEach((e,t)=>{const o=e.offsetHeight-e.parentElement.offsetHeight;gsap.fromTo(e,{y:-o},{scrollTrigger:{trigger:e.parentElement,scrub:!0,scroller:r},y:0,ease:"none"})}),gsap.from(".footer_content",{opacity:0,top:"200px",scrollTrigger:{trigger:"footer",start:"top 50%",scroller:r}}),setTimeout(()=>{ScrollTrigger.refresh()},500)}function n(){new SplitText(e(".letter_wrap, .letter_wrap_scroll"),{type:"lines, words, chars",wordsClass:"word word++",linesClass:"line line++",charsClass:"char char++"});if(window.screen.width>1024)var t="#viewport";else t="body";e(".back_to_top").click(function(e){if(window.screen.width>1024){e.preventDefault();let t=e.target.getAttribute("href");locoScroll.scrollTo(t)}else gsap.to(window,1,{scrollTo:{y:0},ease:Power2.easeInOut})});document.body.clientHeight;var r=document.querySelectorAll(".services_wrap .single_accordion"),o=0,i=document.querySelectorAll(".services_wrap .single_accordion").length;if(window.screen.width>768)var n=1.3;else n=1.4;for(var s=0;s<i;s++)o+=r[s].scrollHeight;let a=e(".fadein_wrap");a.each(function(){let r=e(this);gsap.to(a,{scrollTrigger:{trigger:r,start:"top 60%",scroller:t,onEnter:function(){e(r).addClass("in_view")}}})}),e(window).width(),gsap.utils.toArray(".letter_wrap").forEach(r=>{"seventh_section_content"==r.parentElement.className&&(e(window).width()>765?-30:0),gsap.from(r.querySelectorAll("div.char"),{scrollTrigger:{trigger:r,scroller:t},y:500,opacity:0,duration:.5,stagger:.007,ease:"Power1.easeOut"})}),gsap.timeline({scrollTrigger:{trigger:".services_wrap .service_hero",invalidateOnRefresh:!0,pin:!0,pinSpacing:!0,scrub:!0,end:"+=250%",scroller:t,start:"top top"}}).to(e(".services_wrap .image_slider"),{y:-e(".services_wrap .image_slider").height()/n+window.innerHeight});var l=gsap.timeline({scrollTrigger:{trigger:".services_wrap .third_section",invalidateOnRefresh:!0,pin:!0,pinSpacing:!0,scrub:!0,end:()=>"+="+1.5*o,scroller:t,start:"top top"}});gsap.utils.toArray(r).forEach((t,r)=>{var o,i=0,n=0;o=28,0==r?(i=0,n=e(t).find(".accordion_contenet").height()-(window.innerHeight-6*o),l.to(t,{y:-i}),l.to(e(t).find(".accordion_contenet"),{y:-n},"<")):(i=window.innerHeight-r*o,n=e(t).find(".accordion_contenet").height()-(window.innerHeight-6*o),l.to(t,{y:-i}),l.to(e(t).find(".accordion_contenet"),{y:-n}))});var c=e(".services_first_banner .banner_section");gsap.to(c,{opacity:1}),c.each(function(){let t=e(this);for(var r=t.parent(),o=t.width(),i=Math.round(r.width()/o)+5,n=0;n<i;n++)t.find("> *:first-of-type").clone().appendTo(t)}),gsap.from(".footer_content",{opacity:0,top:"200px",scrollTrigger:{trigger:"footer",start:"top 50%",scroller:t}}),setTimeout(()=>{ScrollTrigger.refresh()},500)}function s(){new SplitText(e(".letter_wrap, .letter_wrap_scroll"),{type:"lines, words, chars",wordsClass:"word word++",linesClass:"line line++",charsClass:"char char++"});if(window.screen.width>1024)var t="#viewport";else t="body";let r=e(".fadein_wrap");if(r.each(function(){let o=e(this);gsap.to(r,{scrollTrigger:{trigger:o,start:"top 60%",scroller:t,onEnter:function(){e(o).addClass("in_view")}}})}),e(window).width()>765?-10:0,gsap.utils.toArray(".letter_wrap").forEach(r=>{"home_wrap seventh_section_content"==r.parentElement.className&&(e(window).width()>765?-30:0),gsap.from(r.querySelectorAll("div.char"),{scrollTrigger:{trigger:r,scroller:t},y:500,opacity:0,duration:.5,stagger:.007,ease:"Power1.easeOut"})}),window.screen.width>650)var o="100vh";else o="100vh";let i=e(".single_project_wrap .second_section .image_holder");gsap.timeline({scrollTrigger:{trigger:".single_project_wrap .second_section",scrub:!0,pin:!0,pinSpacing:!0,end:"+=100%",scroller:t}}).to(i,{width:"100vw",height:o,ease:"none"});class n{constructor({el:e,row_id:t,wrap:r}){this.slider=e,this.row=t,this.wrap=r,this.proxy=this.row.querySelector(".proxy-slider"),this.slides=[...this.slider.querySelectorAll(".image_holder")],this.slidesNumb=this.slides.length-1,this.sliderWidth=0,this.draggable=null,this.current=0,this.last=0,this.offset=0,this.init()}setBounds(){this.sliderWidth=this.slides[0].offsetWidth*this.slidesNumb,gsap.set([this.slider,this.proxy],{width:this.sliderWidth,x:0})}createDraggable(){let e=this.slider,t=(this.inner,gsap.getProperty(e)),r=()=>gsap.to(e,{x:this.draggable.x-this.offset,ease:"power2",overwrite:"auto"});this.draggable=Draggable.create(this.proxy,{type:"x",edgeResistance:1,bounds:{minX:this.row.offsetWidth-this.proxy.offsetWidth,maxX:0},inertia:!0,throwProps:!0,callbackScope:this,onPress:function(r){gsap.to(e.children,{duration:.4,ease:"power1.inOut",scale:1,overwrite:!0}),gsap.killTweensOf(e),this.offset=this.draggable.x-t("x")},onRelease:function(){gsap.to(e.children,{duration:1,ease:"power1.inOut",scale:1,overwrite:!0}),this.offset=0},onDrag:r,onThrowUpdate:r})[0]}init(){this.setBounds(),this.createDraggable()}}new n({el:document.querySelector(".image_slider"),row_id:document.querySelector(".fifth_section"),wrap:document.querySelector(".slider")});gsap.from(".footer_content",{opacity:0,top:"200px",scrollTrigger:{trigger:"footer",start:"top 50%",scroller:t}}),setTimeout(()=>{ScrollTrigger.refresh()},500)}function a(){locoScroll=new LocomotiveScroll({el:document.querySelector("#viewport"),smooth:!0,lerp:.06}),ScrollTrigger.scrollerProxy("#viewport",{scrollTop(e){return arguments.length?locoScroll.scrollTo(e,0,0):locoScroll.scroll.instance.scroll.y},getBoundingClientRect:()=>({top:0,left:0,width:window.innerWidth,height:window.innerHeight}),pinType:document.querySelector("#viewport").style.transform?"transform":"fixed"}),ScrollTrigger.refresh(),locoScroll.on("scroll",ScrollTrigger.update),ScrollTrigger.addEventListener("refresh",()=>locoScroll.update())}function l(e){return e=e||2e3,new Promise(t=>{setTimeout(()=>{t()},e)})}gsap.registerPlugin(ScrollTrigger),gsap.registerPlugin(ScrollToPlugin),gsap.registerPlugin(Draggable),window.addEventListener("load",function(){window.screen.width}),e(window).resize(function(){ScrollTrigger.refresh()}),barba.hooks.afterLeave(t=>{var r=t.next.html,o=r.replace(/(<\/?)body( .+?)?>/gi,"$1notbody$2>",r),i=e(o).filter("notbody").attr("class");e("body").attr("class",i),document.getElementById("viewport").classList.add("loading")}),barba.hooks.beforeEnter(e=>{window.scrollTo(0,0),a()}),barba.init({sync:!0,transitions:[{async leave(e){locoScroll.destroy();const t=this.async();gsap.to(e.current.container,{opacity:0}),await l(650),t()},async enter(e){gsap.from(e.next.container,{opacity:0})}}],views:[{namespace:"Home",afterEnter({next:e}){imagesLoaded(document.getElementById("viewport"),function(){t(),r(),document.getElementById("viewport").classList.remove("loading")})}},{namespace:"work",afterEnter({next:e}){imagesLoaded(document.getElementById("viewport"),function(){t(),s(),document.getElementById("viewport").classList.remove("loading")})}},{namespace:"About",afterEnter({next:e}){imagesLoaded(document.getElementById("viewport"),function(){t(),o(),document.getElementById("viewport").classList.remove("loading")})}},{namespace:"Portfolio",afterEnter({next:e}){imagesLoaded(document.getElementById("viewport"),function(){t(),i(),document.getElementById("viewport").classList.remove("loading")})}},{namespace:"Services",afterEnter({next:e}){imagesLoaded(document.getElementById("viewport"),function(){t(),n(),document.getElementById("viewport").classList.remove("loading")})}}]})})(jQuery);