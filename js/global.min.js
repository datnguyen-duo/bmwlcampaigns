var locoScroll;(function(e){function t(){if(window.screen.width>1024)var t="#viewport";else t="body";var o=gsap.timeline({paused:!0,reversed:!0,onComplete:function(){console.log("complete")}});if(window.screen.width>1024)var r="50%";else if(window.screen.width>768)r="70%";else r="100%";let i=e(".contact_popup_holder"),n=e(".contact_popup"),s=e(".contact_popup .content, .close_contact_popup");o.to(i,{visibility:"visible",opacity:1,duration:.7,ease:"power2.inOut"}),o.to(n,{width:r}),o.to(s,{opacity:1}),e("#work").on("wpcf7mailsent.#work",function(t){e(".success_message_wrap").fadeIn(),e(".contact_popup_holder").addClass("green");var o=e(this).find(".first_name input").val();e(".success_message_wrap .success_message h2 span").text(o)}),e("#meeting").on("wpcf7mailsent.#work",function(t){e(".success_message_wrap").fadeIn(),e(".contact_popup_holder").addClass("green");var o=e(this).find(".first_name input").val();e(".success_message_wrap .success_message h2 span").text(o)}),e(".single_form").on("click",function(){e(".single_form").removeClass("active"),e(this).addClass("active");var t=e(this).data("formid");e(".form_holder form").removeClass("active"),e("form").each(function(){e(this).attr("id")==t&&e(this).addClass("active")})}),e(".contact_popup_opener").on("click",function(){o.play()}),e(".close_contact_popup, .close_contact_popup_btn").on("click",function(){e(".success_message_wrap").fadeOut("fast"),o.reverse(),e(".contact_popup_holder").removeClass("green")}),e(".nav_opener").on("click",function(){e(this).fadeOut(),e(".mobile_nav").fadeIn(),e(".close_nav").fadeIn().css("display","flex"),e("header").css("position","fixed")}),e(".close_nav").on("click",function(){e(this).fadeOut(),e("header").css("position","absolute"),e(".nav_opener").fadeIn(),e(".close_nav").fadeOut(),e(".mobile_nav").fadeOut()}),document.body.classList.remove("loading");var a=document.querySelectorAll(".fourth_section .single_item");a.forEach(e=>{e.addEventListener("mouseenter",function(){this.classList.contains("animate")&&!this.classList.contains("init")&&(this.querySelector("video").play(),this.classList.add("init"))})}),gsap.to(".vscroll",{yPercent:-50,ease:"none",scrollTrigger:{trigger:".third_section",scrub:!0,scroller:t}}),gsap.to(".vscroll__up",{yPercent:-40,ease:"none",scrollTrigger:{trigger:".first_section",start:"top bottom",scrub:!0,scroller:t}});let c=e(".fadein_wrap");c.each(function(){let o=e(this);gsap.to(c,{scrollTrigger:{trigger:o,start:"top 60%",scroller:t,onEnter:function(){e(o).addClass("in_view")}}})}),e(window).width()>765?(-10,console.log("vece")):(0,console.log("manje")),gsap.utils.toArray(".letter_wrap").forEach(o=>{"seventh_section_content"==o.parentElement.className&&(e(window).width()>765?-30:0),gsap.from(o.querySelectorAll("div.char"),{scrollTrigger:{trigger:o,scroller:t},y:500,opacity:0,duration:.5,stagger:.007,ease:"Power1.easeOut"})});var l=gsap.timeline({onComplete:function(){}});let p=e(".home_hero h1 .char"),d=e(".home_hero img"),g=e(".home_hero .cta_button");l.to(d,{opacity:1,duration:.5}),l.from(p,{y:500,duration:.5,stagger:.01,ease:Power1.easeOuteaseOut}),l.to(p,{opacity:1}),l.to(g,{opacity:1,duration:.5}),gsap.timeline({scrollTrigger:{trigger:e(".home_hero"),start:"top top",scrub:!0,scroller:t}}).to(e(".home_hero .cta_button, .home_hero h1"),{yPercent:-20,ease:"none"}),gsap.to("footer",{scrollTrigger:{trigger:"footer",start:"top 50%",scroller:t,onEnter:()=>e(".footer_content").addClass("active")}}),e(".single_accordion").on("click",function(){e(".single_accordion").removeClass("active"),e(this).addClass("active")}),e(".next_acordion").on("click",function(t){e(this).parent().parent().parent().removeClass("active"),e(this).parent().parent().parent().next().addClass("active"),t.stopImmediatePropagation()}),e(".prev_acordion").on("click",function(t){e(this).parent().parent().parent().removeClass("active"),e(this).parent().parent().parent().prev().addClass("active"),t.stopImmediatePropagation()});let h=e(".fourth_section_content"),f=e(".single_item");f.each(function(){gsap.timeline({scrollTrigger:{trigger:h,start:"top bottom",scroller:t}}).set(f,{className:"single_item animate",stagger:.2,ease:"power2.inOut"},"+=1")});let u=e(".accordions");gsap.timeline({scrollTrigger:{trigger:u,start:"top 70%",scroller:t}}).set(u,{className:"accordions animate",ease:"power2.inOut"},"+=1");let _=e(".home_wrap .third_section");gsap.timeline({scrollTrigger:{trigger:_,start:"top 70%",scroller:t}}).to(_,{backgroundColor:"#1C2021"});let m=e(".home_wrap .fifth_section_content .image_holder, .home_wrap .fifth_section_content .image_holder img"),w=e(".fifth_section_content p"),v=e(".home_wrap .fifth_section_content .content .btn, .home_wrap .fifth_section_content p");gsap.timeline({scrollTrigger:{trigger:".home_wrap .fifth_section",scrub:!0,pin:!0,pinSpacing:!0,end:"+=100%",scroller:t}}).to(m,{width:"100vw",height:"100vh",skewX:"0deg",ease:"none"}).to(w,{color:"#EDEDED"}).from(e(".fifth_section_content .content h2 .char"),{y:500,duration:1,stagger:.08,ease:Power1.easeOuteaseOut},"<").to(v,{opacity:1},"<");var y=e(".home_first_banner .banner_section");gsap.to(y,{opacity:1}),y.each(function(){let o=e(this);for(var r=o.parent(),i=document.documentElement.clientWidth,n=Math.round(r.width()/i)+5,s=3*document.documentElement.clientHeight,a=0;a<n;a++)o.find("> *:first-of-type").clone().appendTo(o);gsap.to(o,{x:-i,ease:"none",scrollTrigger:{trigger:o,invalidateOnRefresh:!0,scrub:!0,end:()=>"+="+s,scroller:t}})});var b=e(".home_second_banner .banner_section");gsap.to(b,{opacity:1}),b.each(function(){let t=e(this);for(var o=t.parent(),r=t.width(),i=Math.round(o.width()/r)+5,n=0;n<i;n++)t.find("> *:first-of-type").clone().appendTo(t)}),ScrollTrigger.refresh()}function o(){if(window.screen.width>1024)var t="#viewport";else t="body";var o=gsap.timeline({paused:!0,reversed:!0,onComplete:function(){console.log("complete")}});if(window.screen.width>750)var r="80%";else r="100%";let i=e(".single_team_popup"),n=e(".single_team_popup_content"),s=e(".single_team_popup_content .content, .close_team_popup");o.to(i,{visibility:"visible",opacity:1,duration:.7,ease:"power2.inOut"}),o.to(n,{width:r}),o.to(s,{opacity:1}),o.from(e(".team_header h2 .char"),{y:500,duration:1,stagger:.01,ease:Power1.easeOuteaseOut},"<"),e(".single_team").not(".join_us_holder").on("click",function(){o.play()}),e(".close_team_popup").on("click",function(){o.reverse()});var a=e(".about_first_banner .banner_section");gsap.to(a,{opacity:1}),a.each(function(){let t=e(this);for(var o=t.parent(),r=t.width(),i=Math.round(o.width()/r)+5,n=0;n<i;n++)t.find("> *:first-of-type").clone().appendTo(t)});let c=e(".about_wrap .image_slider");gsap.to(c,{xPercent:-75,x:()=>innerWidth,ease:"none",scrollTrigger:{scroller:t,trigger:".massiveImage",start:"top top",end:()=>3*innerWidth,scrub:!0,pin:!0,invalidateOnRefresh:!0,anticipatePin:1}}),e(".single_accordion").on("click",function(){e(".single_accordion").removeClass("active"),e(this).addClass("active")}),e(".next_acordion").on("click",function(t){e(this).parent().parent().parent().removeClass("active"),e(this).parent().parent().parent().next().addClass("active"),t.stopImmediatePropagation()}),e(".prev_acordion").on("click",function(t){e(this).parent().parent().parent().removeClass("active"),e(this).parent().parent().parent().prev().addClass("active"),t.stopImmediatePropagation()}),gsap.to("footer",{scrollTrigger:{trigger:"footer",start:"top 50%",scroller:t,markers:!0,onEnter:()=>e(".footer_content").addClass("active")}}),ScrollTrigger.refresh()}function r(){if(window.screen.width>1024)var t="#viewport";else t="body";var o=50;e(".section_parallax .project_info").each(function(t){console.log(t),e(this).css({top:o+"%"}),o-=100}),gsap.utils.toArray(".section_parallax .project_info").forEach((e,o)=>{const r=e.parentElement.parentElement.clientHeight;gsap.to(e,{y:r,scrollTrigger:{trigger:".portfolio_paralax_holder",start:"top top",scrub:!0,scroller:t},y:()=>r,ease:"none"})});var r=e(".portfolio_first_banner .banner_section");gsap.to(r,{opacity:1}),r.each(function(){let t=e(this);for(var o=t.parent(),r=t.width(),i=Math.round(o.width()/r)+5,n=0;n<i;n++)t.find("> *:first-of-type").clone().appendTo(t)}),gsap.utils.toArray(".section_parallax .image_holder").forEach((e,o)=>{const r=e.offsetHeight-e.parentElement.offsetHeight;gsap.fromTo(e,{y:-r},{scrollTrigger:{trigger:e.parentElement,scrub:!0,scroller:t},y:0,ease:"none"})}),gsap.to("footer",{scrollTrigger:{trigger:"footer",start:"top 50%",scroller:t,onEnter:()=>e(".footer_content").addClass("active")}}),ScrollTrigger.refresh()}function i(){if(window.screen.width>1024)var t="#viewport";else t="body";document.body.clientHeight;var o=document.querySelectorAll(".services_wrap .single_accordion"),r=0,i=document.querySelectorAll(".services_wrap .single_accordion").length;if(window.screen.width>768)var n=1.3;else n=1.4;for(var s=0;s<i;s++)r+=o[s].scrollHeight;gsap.timeline({scrollTrigger:{trigger:".services_wrap .service_hero",invalidateOnRefresh:!0,pin:!0,pinSpacing:!0,scrub:!0,end:"+=250%",scroller:t,start:"top top"}}).to(e(".services_wrap .image_slider"),{y:-e(".services_wrap .image_slider").height()/n+window.innerHeight});var a=gsap.timeline({scrollTrigger:{trigger:".services_wrap .third_section",invalidateOnRefresh:!0,pin:!0,pinSpacing:!0,scrub:!0,end:()=>"+="+1.5*r,scroller:t,start:"top top"}});gsap.utils.toArray(o).forEach((t,o)=>{var r,i=0,n=0;r=28,0==o?(i=0,n=e(t).find(".accordion_contenet").height()-(window.innerHeight-6*r),a.to(t,{y:-i}),a.to(e(t).find(".accordion_contenet"),{y:-n},"<")):(i=window.innerHeight-o*r,n=e(t).find(".accordion_contenet").height()-(window.innerHeight-6*r),a.to(t,{y:-i}),a.to(e(t).find(".accordion_contenet"),{y:-n}))});var c=e(".services_first_banner .banner_section");gsap.to(c,{opacity:1}),c.each(function(){let t=e(this);for(var o=t.parent(),r=t.width(),i=Math.round(o.width()/r)+5,n=0;n<i;n++)t.find("> *:first-of-type").clone().appendTo(t)}),gsap.to("footer",{scrollTrigger:{trigger:"footer",start:"top 50%",scroller:t,onEnter:()=>e(".footer_content").addClass("active")}}),ScrollTrigger.refresh()}function n(){if(window.screen.width>1024)var t="#viewport";else t="body";if(window.screen.width>650)var o="100vh";else o="70vh";let r=e(".single_project_wrap .second_section .image_holder");gsap.timeline({scrollTrigger:{trigger:".single_project_wrap .second_section",scrub:!0,pin:!0,pinSpacing:!0,end:"+=100%",scroller:t}}).to(r,{width:"100vw",height:o,ease:"none"});class i{constructor({el:e,row_id:t,wrap:o}){this.slider=e,this.row=t,this.wrap=o,this.proxy=this.row.querySelector(".proxy-slider"),this.slides=[...this.slider.querySelectorAll(".image_holder")],this.slidesNumb=this.slides.length-1,this.sliderWidth=0,this.draggable=null,this.current=0,this.last=0,this.offset=0,this.init()}setBounds(){this.sliderWidth=this.slides[0].offsetWidth*this.slidesNumb,gsap.set([this.slider,this.proxy],{width:this.sliderWidth,x:0})}createDraggable(){let e=this.slider,t=(this.inner,gsap.getProperty(e)),o=()=>gsap.to(e,{x:this.draggable.x-this.offset,ease:"power2",overwrite:"auto"});this.draggable=Draggable.create(this.proxy,{type:"x",edgeResistance:1,bounds:{minX:this.row.offsetWidth-this.proxy.offsetWidth,maxX:0},inertia:!0,throwProps:!0,callbackScope:this,onPress:function(o){gsap.to(e.children,{duration:.4,ease:"power1.inOut",scale:1,overwrite:!0}),gsap.killTweensOf(e),this.offset=this.draggable.x-t("x")},onRelease:function(){gsap.to(e.children,{duration:1,ease:"power1.inOut",scale:1,overwrite:!0}),this.offset=0},onDrag:o,onThrowUpdate:o})[0]}init(){this.setBounds(),this.createDraggable()}}new i({el:document.querySelector(".image_slider"),row_id:document.querySelector(".fifth_section"),wrap:document.querySelector(".slider")});gsap.to("footer",{scrollTrigger:{trigger:"footer",start:"top 50%",scroller:t,onEnter:()=>e(".footer_content").addClass("active")}}),ScrollTrigger.refresh()}function s(){locoScroll=new LocomotiveScroll({el:document.querySelector("#viewport"),smooth:!0,lerp:.06}),locoScroll.on("scroll",ScrollTrigger.update),ScrollTrigger.scrollerProxy("#viewport",{scrollTop(e){return arguments.length?locoScroll.scrollTo(e,0,0):locoScroll.scroll.instance.scroll.y},getBoundingClientRect:()=>({top:0,left:0,width:window.innerWidth,height:window.innerHeight}),pinType:document.querySelector("#viewport").style.transform?"transform":"fixed"}),ScrollTrigger.addEventListener("refresh",()=>locoScroll.update()),ScrollTrigger.refresh()}function a(e){return e=e||2e3,new Promise(t=>{setTimeout(()=>{t()},e)})}gsap.registerPlugin(ScrollTrigger),gsap.registerPlugin(ScrollToPlugin),gsap.registerPlugin(Draggable);new SplitText(e(".letter_wrap, .letter_wrap_scroll"),{type:"lines, words, chars",wordsClass:"word word++",linesClass:"line line++",charsClass:"char char++"});window.addEventListener("load",function(){window.screen.width>1024&&locoScroll.update()}),e(window).resize(function(){ScrollTrigger.refresh()}),barba.hooks.afterLeave(t=>{var o=t.next.html,r=o.replace(/(<\/?)body( .+?)?>/gi,"$1notbody$2>",o),i=e(r).filter("notbody").attr("class");e("body").attr("class",i)}),barba.hooks.beforeEnter(e=>{window.scrollTo(0,0),s()}),barba.init({sync:!0,transitions:[{async leave(e){locoScroll.destroy();const t=this.async();gsap.to(e.current.container,{opacity:0}),await a(650),t()},async enter(e){gsap.from(e.next.container,{opacity:0})}}],views:[{namespace:"Home",afterEnter({next:e}){imagesLoaded(document.querySelector("#viewport"),function(){t()})}},{namespace:"About",afterEnter({next:e}){imagesLoaded(document.querySelector("#viewport"),function(){o()})}},{namespace:"Portfolio",afterEnter({next:e}){imagesLoaded(document.querySelector("#viewport"),function(){r()})}},{namespace:"Services",afterEnter({next:e}){imagesLoaded(document.querySelector("#viewport"),function(){i()})}},{namespace:"Project",afterEnter({next:e}){imagesLoaded(document.querySelector("#viewport"),function(){n()})}}]})})(jQuery);